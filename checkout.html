<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Checkout</title>
    <style>
      #wallet{
        margin-left: 80%;
        /* margin-top: -60px; */
      }
    </style>
  </head>
  <body>
    <div id="navbar">
      <h1>Checkout | Cost: 100/seat</h1>
      <h1 id="wallet"></h1>
      <!-- Display the wallet amount here inside h1 tag with id as "wallet". Note only amount, no extra text. Like 500 not Rs 500 -->
    </div>
    <div id="user-detail">
      <input type="text" placeholder="Name" id="user_name">
      <input type="number" placeholder="number of seats" id="number_of_seats">
      <button id="confirm" >Confirm</button>
      <!-- input field to accept user name with id as "user_name"  -->
      <!-- input field to accept number of seats with id as "number_of_seats"  -->
      <!-- A submit button to confirm booking with id as "confirm"  -->
    </div>

    <div id="movie">
      <!-- Append the selected movie for booking here -->
      <!-- movie should have title and image  -->
      <!-- It should be the same movie you selected for booking  -->
    </div>
  </body>
</html>
<script>
let data=JSON.parse(localStorage.getItem("movie"))

data.forEach(function(ele){

  let div1=document.createElement("div")
   let img=document.createElement("img")
   img.src=ele.Poster

   let h2=document.createElement("h2")
h2.innerText=ele.Title;

div1.append(h2,img)

document.getElementById("movie").append(div1)

})


document.getElementById("confirm").addEventListener("click",bookseat)


let amount=+(JSON.parse(localStorage.getItem("amount")))
  
let wallet=document.getElementById("wallet").innerText=amount;
function bookseat(){

  let seat=document.getElementById("number_of_seats").value;

   
let fix=amount-seat*100;
document.getElementById("wallet").innerText=fix;
console.log(fix)
localStorage.setItem("amount",JSON.stringify(fix))


if(fix<seat*100){

  alert("Insufficient Balance !")
  break;
}
else{
  alert("Booking Successful!")
  localStorage.setItem("amount",JSON.stringify(fix))
}

}

</script>
